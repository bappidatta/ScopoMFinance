@model PList<ScopoMFinance.Domain.ViewModels.Policy.BranchListViewModel>
@{
    ViewBag.Title = "Branch List";
}

<div class="panel panel-default">
    <div class="panel-body">
        <div class="col-md-12">
            @Html.ActionLink("New Branch", "Edit", new { area = "HO", controller = "Branch" }, new { @class="btn btn-primary" })
            <div class="list-count-container">
                <div class="list-count">
                    @Html.Partial("_ResultCountMessage", new ResultCountHelper { ItemCount = Model.Pager.TotalRecords })
                </div>
            </div>
            <table class="table table-striped table-hover table-condensed">
                <thead>
                    <tr>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().Name), "Index", null, null, null, 0)</th>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().OpenDate), "Index", null, null, null, 1)</th>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().IsHeadOffice), "Index", null, null, null, 2)</th>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().Status), "Index", null, null, null, 3)</th>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().OrgCount), "Index", null, null, null, 4)</th>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().COCount), "Index", null, null, null, 5)</th>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().ProjectCount), "Index", null, null, null, 6)</th>
                        <th>@Html.SortableHeaderActionLink(Html.DisplayNameFor(model => model.FirstOrDefault().UserCount), "Index", null, null, null, 7)</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Count() > 0)
                    {
                        foreach (var item in Model)
                        {
                            <tr>
                                <td><a href="/HO/Branch/Edit/@item.Id">@item.Name</a></td>
                                <td>@item.OpenDate.ToShortDateString()</td>
                                <td>
                                    @if (item.IsHeadOffice)
                                    {
                                        <i class="icon-active fa fa-check-circle fa-2x"></i>
                                    }
                                    else
                                    {
                                        <i class="icon-inactive fa fa-times fa-2x"></i>
                                    }
                                </td>
                                <td>
                                    @if (item.Status)
                                    {
                                        <i class="icon-active fa fa-check-circle fa-2x"></i>
                                    }
                                    else
                                    {
                                        <i class="icon-inactive fa fa-times fa-2x"></i>
                                    }
                                </td>
                                <td>@item.OrgCount</td>
                                <td>@item.COCount</td>
                                <td>@item.ProjectCount</td>
                                <td>@item.UserCount</td>
                            </tr>
                        }
                    }
                </tbody>

            </table>

            @if (Model != null)
            {
                <div class="row">
                    <div class="col-md-10">
                        @Html.Partial("/Views/Shared/_Pagination.cshtml", Model.Pager)
                    </div>
                    <div class="col-md-2">
                        @Html.Partial("/Views/Shared/_PagerSize.cshtml")
                    </div>
                </div>
            }
        </div>
    </div>
</div>